<ng-container>
  <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="gappx">
    <mat-tab-group>
      <mat-tab label="Iniciar Sesión">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Iniciar</mat-card-title>
          </mat-card-header>
          <mat-card-content class="full-width">
            <form
              [formGroup]="loginFormGroup"
              (ngSubmit)="onLogin()"
              novalidate
            >
              <div fxLayout="column">
                <mat-form-field appearance="outline">
                  <mat-label>Email</mat-label>
                  <input
                    matInput
                    formControlName="email"
                    placeholder="Email"
                    type="text"
                    required
                  />
                  <mat-error
                    *ngIf="submited && loginFormGroup.controls['email'].invalid"
                    >{{ getEmailErrorMessage() }}</mat-error
                  >
                </mat-form-field>

                <mat-form-field appearance="outline">
                  <mat-label>Password</mat-label>
                  <input
                    matInput
                    formControlName="password"
                    placeholder="Password"
                    type="password"
                    required
                  />
                  <mat-error
                    *ngIf="
                      submited && loginFormGroup.controls['password'].invalid
                    "
                    >{{ getPasswordErrorMessage() }}</mat-error
                  >
                </mat-form-field>
                <div fxLayout="row" fxLayoutAlign="space-between center">
                  <mat-checkbox formControlName="recordarme" color="primary"
                    >Recordarme</mat-checkbox
                  >
                  <button mat-button class="mat-button-hover" routerLink="link">
                    Olvidaste la Contraseña?
                  </button>
                </div>
                <button
                  mat-raised-button
                  style="margin-top: 20px"
                  color="primary"
                  type="submit"
                  [disabled]="isLoading"
                >
                  <mat-icon *ngIf="isLoading">
                    <mat-spinner
                      diameter="40"
                      mode="indeterminate"
                      color="primary"
                      diameter="20"
                    >
                    </mat-spinner
                  ></mat-icon>
                  <span *ngIf="!isLoading">SingIn</span>
                </button>
              </div>
            </form>
          </mat-card-content>
          <!-- <mat-card-footer *ngIf="isLoading">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
          </mat-card-footer> -->
        </mat-card>
      </mat-tab>
      <mat-tab label="Crear Cuenta">
        <mat-card>
          <mat-card-header>
            <mat-card-title>Crear Usuario</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <form [formGroup]="registerFormGroup" (ngSubmit)="onRegister()">
              <div fxLayout="column">
                <div class="row">
                  <div class="col">
                    <mat-form-field appearance="outline">
                      <mat-label>Nombres</mat-label>
                      <input
                        matInput
                        formControlName="nombre"
                        placeholder="Nombres"
                        type="text"
                      />
                    </mat-form-field>
                  </div>
                  <div class="col">
                    <mat-form-field appearance="outline">
                      <mat-label>Apellidos</mat-label>
                      <input
                        matInput
                        formControlName="apellido"
                        placeholder="Apellidos"
                        type="text"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <mat-form-field appearance="outline">
                  <mat-label>Email</mat-label>
                  <input
                    matInput
                    formControlName="email"
                    placeholder="Email"
                    type="text"
                  />
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Password</mat-label>
                  <input
                    #password
                    matInput
                    formControlName="password"
                    placeholder="Password"
                    type="password"
                  />
                  <mat-hint align="end" aria-live="polite">
                    {{ password.value.length }} / {{ passwordComponent.max }}
                  </mat-hint>
                </mat-form-field>
                <mat-form-field appearance="outline">
                  <mat-label>Confirmar Password</mat-label>
                  <input
                    matInput
                    formControlName="confirmpassword"
                    placeholder="Confirmar Password"
                    type="password"
                  />
                  <mat-hint align="end" aria-live="polite">
                    {{ password.value.length }} / {{ passwordComponent.max }}
                  </mat-hint>
                </mat-form-field>
                <mat-password-strength
                  #passwordComponent
                  (onStrengthChanged)="onStrengthChanged($event)"
                  [password]="password.value"
                  class="green"
                  [min]="8"
                  [max]="15"
                >
                </mat-password-strength>
                <button
                  mat-raised-button
                  style="margin-top: 20px"
                  color="primary"
                  type="submit"
                >
                  <mat-icon *ngIf="isLoading">
                    <mat-spinner
                      diameter="40"
                      mode="indeterminate"
                      color="primary"
                      diameter="20"
                    >
                    </mat-spinner
                  ></mat-icon>
                  <span *ngIf="!isLoading">Registrarse</span>
                </button>
              </div>
            </form>
          </mat-card-content>
          <!-- <mat-card-footer *ngIf="isLoading">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
          </mat-card-footer> -->
        </mat-card>
      </mat-tab>
    </mat-tab-group>
    <mat-label color="primary" style="margin-top: 5px !important"
      >Iniciar con</mat-label
    >
    <hr />
    <div
      fxLayout="row"
      fxLayoutAlign="space-around center"
      fxLayoutGap="gappx"
      style="min-width: 200px"
    >
      <button mat-icon-button matTooltip="Google" (click)="onGoogleLogin()">
        <mat-icon svgIcon="google"></mat-icon>
      </button>
      <button mat-icon-button matTooltip="Facebook" (click)="onFacebookLogin()">
        <mat-icon svgIcon="facebook"></mat-icon>
      </button>
      <button mat-icon-button matTooltip="Twitter" (click)="onTwitterLogin()">
        <mat-icon svgIcon="twitter"></mat-icon>
      </button>
    </div>
  </div>
</ng-container>
